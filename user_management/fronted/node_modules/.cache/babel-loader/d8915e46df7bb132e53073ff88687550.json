{"ast":null,"code":"export default {\n  name: 'indexPage',\n\n  data() {\n    return {\n      user: [],\n      name: \"\"\n    };\n  },\n\n  props: {\n    msg: String\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    getDataByName() {\n      let url = \"http://localhost:8081/api/v1/user/search/?name=\" + this.name;\n      this.axios.get(url, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(result => {\n        console.log(result);\n        this.user = result.data;\n      });\n    },\n\n    getData() {\n      let url = \"http://localhost:8081/api/v1/user\";\n      this.axios.get(url, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(result => {\n        console.log(result);\n        this.user = result.data;\n      });\n    },\n\n    deleteData(index) {\n      let url = \"http://localhost:8081/api/v1/user/\" + index;\n      this.axios.delete(url).then(result => {\n        console.log(result);\n        this.user = result.data;\n      }).catch(e => {\n        this.text = index;\n        console.log(e); // window.location.reload();\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkDA,eAAe;EACbA,IAAI,EAAE,WADO;;EAEbC,IAAI,GAAE;IACJ,OAAM;MACJC,IAAI,EAAC,EADD;MAEJF,IAAI,EAAC;IAFD,CAAN;EAKD,CARY;;EASbG,KAAK,EAAE;IACLC,GAAG,EAAEC;EADA,CATM;;EAYbC,OAAO,GAAE;IACP,KAAKC,OAAL;EACD,CAdY;;EAebC,OAAO,EAAC;IACNC,aAAa,GAAE;MACb,IAAIC,GAAE,GAAI,oDAAkD,KAAKV,IAAjE;MACA,KAAKW,KAAL,CAAWC,GAAX,CAAeF,GAAf,EAAoB;QAClBG,OAAO,EAAE;UACP,gBAAgB;QADT;MADS,CAApB,EAIGC,IAJH,CAKGC,MAAD,IAAY;QACVC,OAAO,CAACC,GAAR,CAAYF,MAAZ;QACA,KAAKb,IAAL,GAAYa,MAAM,CAACd,IAAnB;MAED,CATH;IAUD,CAbK;;IAcNM,OAAO,GAAE;MACP,IAAIG,GAAE,GAAI,mCAAV;MACA,KAAKC,KAAL,CAAWC,GAAX,CAAeF,GAAf,EAAoB;QAClBG,OAAO,EAAE;UACP,gBAAgB;QADT;MADS,CAApB,EAIGC,IAJH,CAKGC,MAAD,IAAY;QACVC,OAAO,CAACC,GAAR,CAAYF,MAAZ;QACA,KAAKb,IAAL,GAAYa,MAAM,CAACd,IAAnB;MAED,CATH;IAUD,CA1BK;;IA2BNiB,UAAU,CAACC,KAAD,EAAO;MACf,IAAIT,GAAE,GAAI,uCAAqCS,KAA/C;MACA,KAAKR,KAAL,CAAWS,MAAX,CAAkBV,GAAlB,EAAuBI,IAAvB,CACGC,MAAD,IAAY;QACVC,OAAO,CAACC,GAAR,CAAYF,MAAZ;QACA,KAAKb,IAAL,GAAYa,MAAM,CAACd,IAAnB;MAED,CALH,EAKKoB,KALL,CAKWC,KAAK;QACZ,KAAKC,IAAL,GAAYJ,KAAZ;QACAH,OAAO,CAACC,GAAR,CAAYK,CAAZ,EAFY,CAGZ;MACD,CATH;IAUF;;EAvCM;AAfK,CAAf","names":["name","data","user","props","msg","String","created","getData","methods","getDataByName","url","axios","get","headers","then","result","console","log","deleteData","index","delete","catch","e","text"],"sourceRoot":"","sources":["C:\\data\\fronted\\test\\src\\components\\indexPage.vue"],"sourcesContent":["<template >\r\n  <div class=\"container\">\r\n    <h1></h1>\r\n    <div class=\"table-wrapper\">\r\n      <div class=\"table-title\">\r\n        <div class=\"row\">\r\n          <div class=\"add-button\">\r\n            <button type=\"button\" class=\"btn btn-outline-success\" onclick=\"window.location.href='/add'\">add\r\n              User</button>\r\n          </div>\r\n          <div class=\"col-sm-4\">\r\n            <div class=\"search-box\">\r\n             \r\n                <input type=\"search\" class=\"form-control rounded\" placeholder=\"Search\" aria-label=\"Search\"\r\n                  aria-describedby=\"search-addon\" />\r\n                <button type=\"button\" class=\"btn btn-outline-primary\">search</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <table class=\"table  table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>編號 <i class=\"fa fa-sort\"></i></th>\r\n              <th>名字</th>\r\n              <th>年齡 <i class=\"fa fa-sort\"></i></th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody id=\"tr\">\r\n\r\n            <tr v-for=\"i in user\" :key=\"i.id\">\r\n              <td>{{i.id}}</td>\r\n              <td>{{i.name}}</td>\r\n              <td>{{i.age}}</td>\r\n              <td>\r\n                <a v-bind:href=\"'/update/'+ i.id\" class=\"edit\" title=\"Edit\" data-toggle=\"tooltip\"><i\r\n                    class=\"material-icons\">&#xE254;</i></a>\r\n                <a href=\"\" class=\"delete\" title=\"Delete\" @click=\"deleteData(i.id)\"><i\r\n                    class=\" material-icons\">&#xE872;</i></a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'indexPage',\r\n  data(){\r\n    return{\r\n      user:[],\r\n      name:\"\"\r\n      \r\n    } ;\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  created(){\r\n    this.getData()\r\n  },\r\n  methods:{\r\n    getDataByName(){\r\n      let url = \"http://localhost:8081/api/v1/user/search/?name=\"+this.name;\r\n      this.axios.get(url, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      }).then(\r\n        (result) => {\r\n          console.log(result);\r\n          this.user = result.data;\r\n\r\n        });\r\n    },\r\n    getData(){\r\n      let url = \"http://localhost:8081/api/v1/user\";\r\n      this.axios.get(url, {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      }).then(\r\n        (result) => {\r\n          console.log(result);\r\n          this.user = result.data;\r\n\r\n        });\r\n    },\r\n    deleteData(index){\r\n      let url = \"http://localhost:8081/api/v1/user/\"+index;\r\n      this.axios.delete(url).then(\r\n        (result) => {\r\n          console.log(result);\r\n          this.user = result.data;\r\n\r\n        }).catch(e => {\r\n          this.text = index\r\n          console.log(e);\r\n          // window.location.reload();\r\n        });\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style >\r\n\r\n    .search-box {\r\n      position: relative;\r\n      float: right;\r\n    }\r\n  \r\n    .search-box input {\r\n      height: 34px;\r\n      border-radius: 20px;\r\n      padding-left: 35px;\r\n      border-color: #ddd;\r\n      box-shadow: none;\r\n    }\r\n  \r\n    .search-box input:focus {\r\n      border-color: #3FBAE4;\r\n    }\r\n  \r\n    .search-box i {\r\n      color: #a0a5b1;\r\n      position: absolute;\r\n      font-size: 19px;\r\n      top: 8px;\r\n      left: 10px;\r\n    }\r\n@media (min-width: 1025px) {\r\n  .h-custom {\r\n    height: 100vh !important;\r\n  }\r\n}\r\n\r\n.add-button {\r\n  position: relative;\r\n  float: right;\r\n}\r\n\r\n.card-registration .select-input.form-control[readonly]:not([disabled]) {\r\n  font-size: 1rem;\r\n  line-height: 2.15;\r\n  padding-left: .75em;\r\n  padding-right: .75em;\r\n}\r\n\r\n.card-registration .select-arrow {\r\n  top: 13px;\r\n}\r\n\r\n.gradient-custom-2 {\r\n  /* fallback for old browsers */\r\n  background: #a1c4fd;\r\n\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: -webkit-linear-gradient(to right, rgba(161, 196, 253, 1), rgba(194, 233, 251, 1));\r\n\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n  background: linear-gradient(to right, rgba(161, 196, 253, 1), rgba(194, 233, 251, 1))\r\n}\r\n\r\n.bg-indigo {\r\n  background-color: #4835d4;\r\n}\r\n\r\n@media (min-width: 992px) {\r\n  .card-registration-2 .bg-indigo {\r\n    border-top-right-radius: 15px;\r\n    border-bottom-right-radius: 15px;\r\n  }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n  .card-registration-2 .bg-indigo {\r\n    border-bottom-left-radius: 15px;\r\n    border-bottom-right-radius: 15px;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}